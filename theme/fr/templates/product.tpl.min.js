/**
 * Méthode permettant le rendu d'un objet produit.
 * Cette méthode peut éventuellement être modifiée afin d'utiliser
 * un moteur de template javascript tel moustache, transparencyjs 
 * ou encore weld.js
 * 
 * @param product 
 * @param options 
 * @return Element|string
 */
render_product=function(b,a){if(a.affichage=="v"){return render_product_v(b,a)}else{return render_product_l(b,a)}};render_product_l=function(c,a){var b="";if(c.main_thumb){b='<figure><a href="'+c.url+'" title="'+c.name+'" class="illustration"> 			<img src="'+(a.affichage=="v"?c.main_thumb.url_g_miniature:c.main_thumb.url_miniature)+'" alt=""></a> 		</figure>'}tpl='<li class="fadein scallup"><form method="post" action="/fr/ecommerce/panier.html"> 			<input type="hidden" name="pid" value="'+c.id+'" /> 			<input type="hidden" name="act" value="addP" /> 			<input type="hidden" name="ctl" value="commandes/panier_detail" /><div class="post_produit">'+b+'<div class="post_content" '+(b?'style="margin-left: 120px;"':"")+'> 			<h2><a href="'+c.url+'">'+c.name+'</a></h2> 			<p class="tags">';$.each(c.tags.split(/,/),function(){tag_name=this.replace(/^\s+/,"").replace(/\s+$/,"");if(!tag_name){return}tag_url="/fr/recherche/catalogue/tags:"+kiubi.escape(tag_name)+"/";tpl+='<a href="'+tag_url+'">'+tag_name+"</a>"});tpl+="</p>";if(c.in_stock=="no"){tpl+='<p class="alerte">Produit en rupture de stock</p>'}else{if(c.available=="no"){tpl+='<p class="alerte">Disponible à partir du '+c.release_date_f+"</p>"}else{if(c.available=="partial"){tpl+='<p class="alerte">Certaines variantes sont indisponibles</p>'}}}tpl+='<div class="desc">'+c.header+'</div> 		<p class="prix"> 			<span class="'+(c.is_discounted?"promo":"")+'">'+c.price_inc_vat_label+"</span>"+(c.is_discounted?" <del>"+c.price_base_inc_vat_label+"</del>":"")+'</p> 		<div class="produit_infos">';if(c.available!="no"){if(c.variants.length>1){tpl+='<select name="vid" class="variantes">';$.each(c.variants,function(){if(!this.is_available){return}tpl+='<option value="'+parseInt(this.id)+'">'+this.name+" - "+this.price_inc_vat_label+"</option>"});tpl+="</select>"}tpl+='<input type="submit" class="bt_panier" value="Ajouter au panier" title="Ajouter au panier">'}tpl+="</div></div></div></form></li>";return tpl};render_product_v=function(c,a){var b="";if(c.main_thumb){b='<figure><a href="'+c.url+'" title="'+c.name+'" class="illustration"> 			<img src="'+(a.affichage=="v"?c.main_thumb.url_g_miniature:c.main_thumb.url_miniature)+'" alt=""></a> 		</figure>'}tpl='<li class="fadein scallup"><div class="post_produit">'+b+'<div class="post_content" '+(b?'style="margin-left: 120px;"':"")+'> 			<h2><a href="'+c.url+'">'+c.name+'</a></h2> 			<p class="prix"> 				<span class="'+(c.is_discounted?"promo":"")+'">'+c.price_inc_vat_label+"</span>"+(c.is_discounted?" <del>"+c.price_base_inc_vat_label+"</del>":"")+'</p> 			<div class="desc">'+c.header+"</div> 		</div></div>";return tpl};